# üìò Produto ‚Äì Sistema Financeiro da Igreja

Este produto organiza **gastos, pagamentos e relat√≥rios financeiros** da igreja,
garantindo **transpar√™ncia, governan√ßa e clareza** para lideran√ßa, conselho e tesouraria.

## Princ√≠pio Central
A forma como pagamos **n√£o altera** o motivo pelo qual gastamos.

## Estrutura do Sistema
1. Registro do Gasto (Fato Gerador)
2. Aprova√ß√£o e Pagamento (Fluxo de Caixa)
3. Concilia√ß√£o Banc√°ria
4. Relat√≥rios e DRE

üìé Diagramas dispon√≠veis em `docs/diagramas/`.

---

## Pessoas / Membros (vis√£o de produto)

- **Problema que resolve**: reduz a dispers√£o de cadastros e a falta de visibilidade sobre quem √© visitante, frequentador ou membro, trazendo vis√£o unificada de pessoas, fam√≠lia e participa√ß√£o.
- **Objetivo**: entregar uma base √∫nica e confi√°vel de pessoas, f√°cil de buscar, filtrar e manter atualizada, apoiando decis√µes pastorais e operacionais.
- **Para quem**: secretaria (cadastro e atualiza√ß√£o), lideran√ßa/pastores (acompanhamento e a√ß√µes pastorais), tesouraria/financeiro (cruzar presen√ßa com compromissos), times de minist√©rios (volunt√°rios e fun√ß√µes).
- **Principais capacidades**: listar e buscar pessoas (status, nome, contato), cadastrar/editar perfis completos, acompanhar evolu√ß√£o de status (visitante ‚Üí membro), visualizar v√≠nculos familiares, atribuir fun√ß√µes/roles ministeriais e disponibilizar a√ß√µes r√°pidas e estat√≠sticas da base.
- **Limites do escopo**: n√£o √© ferramenta de check-in Kids (apenas referencia v√≠nculos), n√£o faz gest√£o financeira, n√£o substitui controle detalhado de volunt√°rios por escala, n√£o automatiza follow-up pastoral (apenas suporta dados para isso).

## Kids (vis√£o de produto)

- **Objetivo**: apoiar o minist√©rio infantil no acolhimento seguro das crian√ßas durante cultos e atividades, com foco em organiza√ß√£o de turmas, controle de presen√ßa e comunica√ß√£o respons√°vel.
- **Para quem**: l√≠deres e volunt√°rios do Minist√©rio Kids (gest√£o de salas e turmas, check-in/checkout), pais/respons√°veis (autoriza√ß√£o e retirada), secretaria (cadastro e atualiza√ß√µes), lideran√ßa (vis√£o geral e alertas).
- **Principais capacidades**: 
	- cadastro e gest√£o de crian√ßas e turmas;
	- autoriza√ß√µes de respons√°veis para retirada;
	- registro de presen√ßa (check-in/checkout) e di√°rio/observa√ß√µes;
	- notifica√ß√µes sobre eventos relevantes do Kids (ex.: checkout, di√°rio, alertas).
- **Limites do escopo**: n√£o √© sistema pedag√≥gico completo (planejamento de aulas/compet√™ncias), n√£o substitui controle financeiro, n√£o faz comunica√ß√£o externa massiva (apenas notifica√ß√µes internas vinculadas ao Kids), n√£o gerencia conte√∫do educacional.

Refer√™ncias de produto e fluxos detalhados:
- Inclus√£o de crian√ßas e regras: `../KIDS_INCLUSION.md`
- Notifica√ß√µes do Kids: `../NOTIFICACOES_KIDS.md`
- Respons√°veis autorizados: `../AUTHORIZED_GUARDIANS.md`

## Comunica√ß√£o (vis√£o de produto)

- **Objetivo**: facilitar a cria√ß√£o e publica√ß√£o de comunicados institucionais (avisos, banners, alertas) de forma manual e editorial pela lideran√ßa, garantindo visibilidade multiplataforma (app, tel√£o/projetor, site p√∫blico).
- **Para quem**: lideran√ßa/secretaria (cria√ß√£o de conte√∫do), equipe de comunica√ß√£o (arte e publica√ß√£o), administradores (gest√£o de canais de exibi√ß√£o), membros (consumo no app/site).
- **Principais capacidades**: 
	- criar comunicados manualmente (tipo banner ou alerta), com t√≠tulo, descri√ß√£o, imagem e link de a√ß√£o;
	- segmentar publica√ß√£o por canal (exibir no app, tel√£o/projetor ou site);
	- agendar per√≠odo de exibi√ß√£o (data in√≠cio/fim);
	- vincular opcionalmente a cultos ou m√≠dias;
	- organizar por tags e ordem de exibi√ß√£o no tel√£o;
	- hist√≥rico completo de comunicados criados e status (ativo/inativo).
- **Limites do escopo**: N√ÉO faz disparo autom√°tico de push notifications, e-mail ou WhatsApp; N√ÉO substitui notifica√ß√µes de sistema (que s√£o autom√°ticas e vinculadas a eventos); apenas publica conte√∫do editorial gerenciado manualmente; n√£o √© ferramenta de automa√ß√£o de marketing ou CRM.

Refer√™ncias complementares:
- Manual do usu√°rio ‚Äî Comunica√ß√£o: `../manual-usuario.md` (se√ß√£o 9)

## Notifica√ß√µes (vis√£o de produto)

- **Objetivo**: automatizar o envio de alertas relevantes para usu√°rios espec√≠ficos (por cargo/role) baseado em eventos do sistema, reduzindo depend√™ncia de comunica√ß√£o manual e aumentando a agilidade nas respostas operacionais.
- **Para quem**: administradores (configura√ß√£o de regras de disparo e canais), l√≠deres e respons√°veis por √°reas (recebem notifica√ß√µes personalizadas conforme seu cargo), equipe t√©cnica (gest√£o de eventos e integra√ß√µes).
- **Principais capacidades**: 
	- cat√°logo de eventos do sistema (ex: `novo_visitante`, `financeiro_conta_vencer`, `kids_checkin`, `kids_ocorrencia`, `pedido_oracao`);
	- configura√ß√£o de regras por evento (quem recebe: role ou usu√°rio espec√≠fico, canais ativos: in-app/push/WhatsApp);
	- disparo autom√°tico via Edge Function (`disparar-alerta`) ao detectar evento;
	- entrega multi-canal: notifica√ß√£o in-app (sininho na barra superior), push notification (browser API), WhatsApp (Meta API direto ou Make);
	- hist√≥rico de envio e status (lido/n√£o lido) na tabela `notifications`;
	- interface admin para ativar/desativar regras e canais por evento.
- **Limites do escopo**: N√ÉO √© cria√ß√£o manual de mensagens (isso √© Comunica√ß√£o); N√ÉO permite editar conte√∫do da notifica√ß√£o (usa templates autom√°ticos); N√ÉO substitui comunica√ß√£o editorial ou avisos gerais; apenas dispara alertas baseados em eventos reais do sistema; n√£o faz segmenta√ß√£o arbitr√°ria ou campanhas de marketing.

Refer√™ncias complementares:
- Manual do usu√°rio ‚Äî Notifica√ß√µes: `../manual-usuario.md` (se√ß√£o 10, a confirmar)

## Jornadas e Ensino (vis√£o de produto)

- **Objetivo**: estruturar trilhas de forma√ß√£o (jornadas/cursos) e o dia a dia de aulas/presen√ßas, oferecendo ao aluno um player simples e ao time de ensino ferramentas de controle.
- **Para quem**: l√≠deres/discipuladores e secretaria (criam jornadas, etapas e matr√≠culas), professores/volunt√°rios (agendam aulas, registram presen√ßa), alunos/membros (consomem conte√∫do e acompanham progresso), pais/respons√°veis no Kids (check-in/check-out e etiquetas).
- **Principais capacidades**:
	- criar e editar jornadas com etapas sequenciais (v√≠deo, texto, presencial);
	- matricular alunos (manual ou autoinscri√ß√£o), acompanhar progresso e respons√°veis;
	- player para o aluno marcar etapas conclu√≠das e continuar de onde parou;
	- gest√£o de aulas: sala, modalidade, professor, datas e presen√ßas;
	- check-in manual e impress√£o de etiquetas de seguran√ßa para Kids (quando aplic√°vel);
	- cursos pagos: flag de pagamento, valor e bloqueio de acesso at√© confirma√ß√£o financeira.
- **Limites do escopo**: n√£o √© LMS completo de avalia√ß√µes/provas; n√£o gera certificados automaticamente (a confirmar); integra√ß√µes de pagamento no app do aluno n√£o est√£o presentes (baixa ocorre no financeiro); comunica√ß√£o editorial deve usar o m√≥dulo Comunica√ß√£o.

Refer√™ncias:
- Funcionalidades ‚Äî Jornadas e Ensino: `../funcionalidades.md#5-jornadas-e-ensino`
- Manual do usu√°rio ‚Äî Jornadas e Ensino: `../manual-usuario.md#7-jornadas-e-ensino`
- Diagrama de cursos pagos: `../diagramas/fluxo-cursos-pagos.md`
 - Diagramas gerais do m√≥dulo: `../diagramas/fluxo-ensino.md`, `../diagramas/sequencia-ensino.md`
 - Arquitetura (vis√£o t√©cnica): `../01-Arquitetura/01-arquitetura-geral.MD#m√≥dulo-jornadas-e-ensino-vis√£o-t√©cnica`


## Cultos (vis√£o de produto)

- **Objetivo**: organizar a realiza√ß√£o de cultos/eventos, contemplando agenda, programa√ß√£o lit√∫rgica, gest√£o de times/posi√ß√µes, aloca√ß√£o de volunt√°rios (escalas), m√≠dias de apoio e proje√ß√£o em tel√£o.
- **Para quem**: secretaria (agenda/eventos), lideran√ßa/pastores (planejamento de liturgia e acompanhamento), equipe de m√≠dia/proje√ß√£o (tel√£o e recursos visuais), coordena√ß√£o de volunt√°rios (times/posi√ß√µes/escalas). (m√∫sicas/equipe de louvor ‚Äî a confirmar)
- **Principais capacidades** (com base em evid√™ncias no reposit√≥rio):
	- Agenda/Vis√£o Geral de Cultos e Eventos: `src/pages/cultos/Geral.tsx` (m√©tricas de pr√≥ximos cultos, realizados, times ativos e m√≠dias ativas; atalhos para cria√ß√£o e gest√£o)
	- Eventos (lista/gest√£o): `src/pages/cultos/Eventos.tsx` (a confirmar detalhamento)
	- Times e Posi√ß√µes: `src/pages/cultos/Times.tsx`, `src/pages/cultos/Posicoes.tsx`; componentes de gest√£o em `src/components/cultos/GerenciarTimeDialog.tsx`, `TimeDialog.tsx`, `PosicaoDialog.tsx`
	- Escalas (aloca√ß√£o de volunt√°rios): componentes em `src/components/cultos/EscalasTabContent.tsx`, `EscalasDialog.tsx` (evid√™ncia de fluxo de escala√ß√£o)
	- Liturgia (timeline e edi√ß√£o de itens): `src/components/cultos/LiturgiaTimeline.tsx`, `LiturgiaWorkspace.tsx`, `LiturgiaDialog.tsx`, `LiturgiaItemDialog.tsx`
	- Recursos de Liturgia (m√≠dias vinculadas por item): `src/components/cultos/RecursosLiturgiaSheet.tsx`, `MidiaDialog.tsx`, `TagMidiaDialog.tsx`, `SlideshowPreview.tsx`; playlist de proje√ß√£o usa `liturgia_culto`/`liturgia_recursos`/`midias`
	- Templates de Liturgia: `src/components/cultos/TemplatesLiturgiaDialog.tsx`, `AplicarTemplateDialog.tsx`, `SalvarLiturgiaTemplateDialog.tsx`, `SalvarComoTemplateDialog.tsx`, `TemplatePreviewDialog.tsx`
	- M√∫sicas do Culto: `src/components/cultos/MusicaTabContent.tsx`, `CancoesDialog.tsx` (gest√£o de can√ß√µes ‚Äî a confirmar escopo)
	- Proje√ß√£o (Tel√£o):
		- Comunicados: `src/pages/Telao.tsx` (rota `/telao`, fonte `comunicados` com filtros por per√≠odo/canal e ordem)
		- Liturgia: `src/pages/TelaoLiturgia.tsx` (rota `/telao-liturgia/:id`, playlist dos recursos da liturgia com auto-avance, atalhos e realtime)
	- Dashboard de Liturgia: `src/pages/cultos/LiturgiaDashboard.tsx` (an√°lises/indicadores ‚Äî a confirmar detalhamento)
- **Limites do escopo**:
	- N√£o realiza transmiss√£o ao vivo ou controle de √°udio/ilumina√ß√£o; foca em programa√ß√£o e proje√ß√£o de m√≠dias.
	- N√£o substitui sistemas de letras/partituras com controle avan√ßado de setlist/cifras (integra√ß√µes ‚Äî a confirmar).
	- Confirma√ß√£o de presen√ßa do p√∫blico e controle de acesso n√£o fazem parte deste m√≥dulo (check-in geral ‚Äî a confirmar).

Refer√™ncias e links √∫teis:
- Manual do usu√°rio ‚Äî Cultos: `../manual-usuario.md#5-cultos-e-liturgia`
- Fluxo (Mermaid): `../diagramas/fluxo-cultos.md`
- Sequ√™ncia (Mermaid): `../diagramas/sequencia-cultos.md`

## Intercess√£o, Ora√ß√£o e Testemunhos (vis√£o de produto)

- **Objetivo**: centralizar a gest√£o de pedidos de ora√ß√£o, intercess√£o organizada, registro de testemunhos e acompanhamento emocional dos membros, fortalecendo o cuidado pastoral e a resposta √°gil a necessidades espirituais.
- **Para quem**: 
	- Membros e visitantes (criar pedidos de ora√ß√£o, registrar sentimentos, compartilhar testemunhos);
	- Intercessores e l√≠deres de intercess√£o (gerenciar e acompanhar pedidos alocados, registrar observa√ß√µes);
	- Lideran√ßa/pastores (vis√£o geral de crises, crises emocionais, testemunhos em aprova√ß√£o, acompanhamento pastoral);
	- Secretaria (gest√£o de intercessores, aprova√ß√£o de testemunhos para publica√ß√£o).
- **Principais capacidades**:
	- **Pedidos de Ora√ß√£o**: criar pedidos (membros/externos/an√¥nimos), classificar por tipo, gerenciar ciclo de vida (pendente ‚Üí alocado ‚Üí em ora√ß√£o ‚Üí respondido/arquivado), atribuir a intercessores, registrar observa√ß√µes.
	- **Intercessores**: cadastro de equipe dedicada, limite m√°ximo de pedidos por pessoa, aloca√ß√£o autom√°tica balanceada, hist√≥rico de pedidos e observa√ß√µes.
	- **Testemunhos**: envio de testemunhos por membros, categoriza√ß√£o (espiritual, casamento, fam√≠lia, sa√∫de, trabalho, financeiro, ministerial, outro), workflow de aprova√ß√£o (aberto ‚Üí p√∫blico/arquivado), suporte a an√¥nimos, exporta√ß√£o de hist√≥rico.
	- **Sentimentos**: registro di√°rio de sentimentos (feliz, triste, ansioso, grato, aben√ßoado, angustiado), notifica√ß√£o di√°ria autom√°tica ("Como voc√™ est√°?"), redirecionamento inteligente (positivos ‚Üí testemunho; negativos ‚Üí pedido de ora√ß√£o), detec√ß√£o de alertas cr√≠ticos (3+ dias negativos).
	- **Timeline de Vida**: visualiza√ß√£o unificada de pedidos, sentimentos e testemunhos por membro (para contexto pastoral).
- **Limites do escopo**:
	- N√£o substitui acompanhamento pastoral direto; suporta mas n√£o automatiza interven√ß√µes.
	- N√£o faz disparo de lembretes autom√°ticos de intercess√£o (apenas exibe no dashboard).
	- Testemunhos n√£o s√£o publicados automaticamente (requer aprova√ß√£o manual).
	- N√£o integra com aplicativos de ora√ß√£o comunit√°ria externo ou plataformas de transmiss√£o.
	- Alertas cr√≠ticos de sentimentos s√£o informativos (a confirmar se h√° integra√ß√£o com notifica√ß√£o autom√°tica).

Refer√™ncias e links √∫teis:
- Manual do usu√°rio ‚Äî Intercess√£o: `../manual-usuario.md#6-intercess√£o` (a confirmar se√ß√£o)
- Fluxo (Mermaid): `../diagramas/fluxo-intercessao.md`
- Arquitetura (vis√£o t√©cnica): `../01-Arquitetura/01-arquitetura-geral.MD#m√≥dulo-intercess√£o-ora√ß√£o-e-testemunhos-vis√£o-t√©cnica` (a confirmar)

```

